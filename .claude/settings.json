{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "task",
        "hooks": [
          {
            "type": "command",
            "command": "echo \"Task completed at $(date +%Y-%m-%d_%H:%M:%S)\" >> automation/task.log"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'if [[ \"$1\" =~ manuscript/chapters/chapter-.*\\.md ]]; then automation/quality-check.sh; fi' -- \"$(cat /tmp/last_written_file 2>/dev/null)\"",
            "comment": "Run quality check only on chapter files"
          },
          {
            "type": "command",
            "command": "automation/auto-sync-progress.sh",
            "comment": "Automatically sync progress after writes"
          }
        ]
      },
      {
        "matcher": "chapter-writer",
        "hooks": [
          {
            "type": "command",
            "command": "automation/chapter-completed.sh",
            "comment": "Handle chapter completion tasks"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "automation/session-init.sh",
            "comment": "Comprehensive session initialization"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "command": "automation/pre-compact-backup.sh",
            "comment": "Backup before auto-compacting"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "automation/session-summary.sh",
            "comment": "Generate session summary"
          }
        ]
      }
    ]
  }
}